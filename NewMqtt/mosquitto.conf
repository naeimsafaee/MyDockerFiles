# Basic persistence/logging
persistence true
persistence_location /mosquitto/data/
log_dest stdout
# For troubleshooting, uncomment:
# log_type all

# Auth
allow_anonymous false
password_file /mosquitto/config/passwordfile
acl_file /mosquitto/config/aclfile

# ---- MQTT (no TLS here; you’ll terminate at Cloudflare if needed) ----
listener 8883 0.0.0.0
protocol mqtt

# ---- WebSockets (no TLS here; you’ll terminate at Cloudflare if needed) ----
listener 8884 0.0.0.0
protocol websockets

# (Optional) tuning
max_inflight_messages 100
message_size_limit 0
